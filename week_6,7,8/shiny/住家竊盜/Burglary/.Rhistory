unlist(data)
data[1]
data[1,1]
substring(data[1],4:6)
substring(data[1],4,6)
data_clear <- substring(data,4,6)
data_clear
sum(data_clear == "中正區")
sum(data_clear == "萬華區")
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
area_data
data_clear <- substring(data,4,6)
one <- sum(data_clear == "中正區")
two <- sum(data_clear == "萬華區")
three <- sum(data_clear == "大同區")
four <- sum(data_clear == "中山區")
five <- sum(data_clear == "松山區")
six <- sum(data_clear == "大安區")
seven <- sum(data_clear == "信義區")
eight <- sum(data_clear == "內湖區")
nine <- sum(data_clear == "南港區")
ten <- sum(data_clear == "士林區")
eleven <- sum(data_clear == "北投區")
twelve <- sum(data_clear == "文山區")
area_title <- list("中正區","萬華區","大同區","中山區","松山區","大安區","信義區","內湖區","南港區","士林區","北投區","文山區")
件數 <- list(one,two,three,four,five,six,seven,eight,nine,ten,eleven,twelve)
area_data <- as.data.frame(cbind(area_title, 件數))
地區 <- unlist(area_title)
ggplot(area_data, aes(地區 , 件數)) + geom_bar(stat = "identity",fill = "black")
area_data
runApp()
runApp()
runApp()
runApp()
count_time(data)
data <- get_data$result.results.發生時段
data
count_time(data)
count_time <- function(data){
one <- sum(data == "01~03")
two <- sum(data == "04~06")
three <- sum(data == "07~09")
four <- sum(data == "10~12")
five <- sum(data == "13~15")
six <- sum(data == "16~18")
seven <- sum(data == "19~21")
eight <- sum(data == "22~24")
件數 <- list(one,two,three,four,five,six,seven,eight)
time_title <- list("01~03","04~06","07~09","10~12","13~15","16~18","19~21","22~24")
time_data <- as.data.frame(cbind(time_title, 件數))
時段 <- unlist(time_title)
time_data
}
count_time(data)
ggplot(time_data, aes(時段 , 件數)) + geom_bar(stat = "identity",fill = "red")
ggplot(count_time(data), aes(時段 , 件數)) + geom_bar(stat = "identity",fill = "red")
data1 <- count_time(data)
count_time <- function(data){
one <- sum(data == "01~03")
two <- sum(data == "04~06")
three <- sum(data == "07~09")
four <- sum(data == "10~12")
five <- sum(data == "13~15")
six <- sum(data == "16~18")
seven <- sum(data == "19~21")
eight <- sum(data == "22~24")
件數 <- list(one,two,three,four,five,six,seven,eight)
時段 <- list("01~03","04~06","07~09","10~12","13~15","16~18","19~21","22~24")
time_data <- as.data.frame(cbind(時段, 件數))
時段 <- unlist(time_title)
time_data
}
data <- get_data$result.results.發生時段
data1 <- count_time(data)
時段 <- unlist(時段)
count_time <- function(data){
one <- sum(data == "01~03")
two <- sum(data == "04~06")
three <- sum(data == "07~09")
four <- sum(data == "10~12")
five <- sum(data == "13~15")
six <- sum(data == "16~18")
seven <- sum(data == "19~21")
eight <- sum(data == "22~24")
件數 <- list(one,two,three,four,five,six,seven,eight)
時段 <- list("01~03","04~06","07~09","10~12","13~15","16~18","19~21","22~24")
time_data <- as.data.frame(cbind(時段, 件數))
時段 <- unlist(時段)
time_data
}
data <- get_data$result.results.發生時段
data1 <- count_time(data)
runApp()
data <- get_data$result.results.發生時段
data1 <- count_time(data)
ggplot(data1, aes(data1$時段 , data1$件數)) + geom_bar(stat = "identity",fill = "red")
runApp()
iris
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
kmeans(selectedData(), input$clusters)
x_var <- input$xcol
y_var <- input$ycol
all_data(x_var,y_var)
x_var <- "時段_件數"
y_var <- "月份_件數"
if(x_var == "時段_件數"){
data <- get_data$result.results.發生時段
count_time(data)
件數 <- list(one,two,three,four,five,six,seven,eight)
time_title <- list("01~03","04~06","07~09","10~12","13~15","16~18","19~21","22~24")
data_x <- as.data.frame(cbind(time_title, 件數))
時段 <- unlist(time_title)
}else if(x_var == "月份_件數"){
data <- get_data$result.results.發生.現.日期
count_month(data)
month_title <- list("JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC")
title <- factor(month_title, levels=unique(month_title))
件數 <- count
data_x <- as.data.frame(cbind(title, 件數))
月份 <- unlist(title)
}else{
data <- get_data$result.results.發生.現.地點
count_place(data)
area_title <- list("中正區","萬華區","大同區","中山區","松山區","大安區","信義區","內湖區","南港區","士林區","北投區","文山區")
件數 <- list(one,two,three,four,five,six,seven,eight,nine,ten,eleven,twelve)
data_x <- as.data.frame(cbind(area_title, 件數))
地區 <- unlist(area_title)
}
if(y_var == "時段_件數"){
data <- get_data$result.results.發生時段
count_time(data)
件數 <- list(one,two,three,four,five,six,seven,eight)
time_title <- list("01~03","04~06","07~09","10~12","13~15","16~18","19~21","22~24")
data_y <- as.data.frame(cbind(time_title, 件數))
時段 <- unlist(time_title)
}else if(y_var == "月份_件數"){
data <- get_data$result.results.發生.現.日期
count_month(data)
month_title <- list("JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC")
title <- factor(month_title, levels=unique(month_title))
件數 <- count
data_y <- as.data.frame(cbind(title, 件數))
月份 <- unlist(title)
}else{
data <- get_data$result.results.發生.現.地點
count_place(data)
area_title <- list("中正區","萬華區","大同區","中山區","松山區","大安區","信義區","內湖區","南港區","士林區","北投區","文山區")
件數 <- list(one,two,three,four,five,six,seven,eight,nine,ten,eleven,twelve)
data_y <- as.data.frame(cbind(area_title, 件數))
地區 <- unlist(area_title)
}
data <- data.frame(data_x,data_y)
data
data <- get_data$result.results.發生時段
count_time(data)
x_var <- "時段_件數"
y_var <- "月份_件數"
if(x_var == "時段_件數"){
data <- get_data$result.results.發生時段
count_time(data)
件數 <- list(one,two,three,four,five,six,seven,eight)
time_title <- list("01~03","04~06","07~09","10~12","13~15","16~18","19~21","22~24")
data_x <- as.data.frame(cbind(time_title, 件數))
時段 <- unlist(time_title)
}else if(x_var == "月份_件數"){
data <- get_data$result.results.發生.現.日期
count_month(data)
month_title <- list("JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC")
title <- factor(month_title, levels=unique(month_title))
件數 <- count
data_x <- as.data.frame(cbind(title, 件數))
月份 <- unlist(title)
}else{
data <- get_data$result.results.發生.現.地點
count_place(data)
area_title <- list("中正區","萬華區","大同區","中山區","松山區","大安區","信義區","內湖區","南港區","士林區","北投區","文山區")
件數 <- list(one,two,three,four,five,six,seven,eight,nine,ten,eleven,twelve)
data_x <- as.data.frame(cbind(area_title, 件數))
地區 <- unlist(area_title)
}
x_var
data_x
if(y_var == "時段_件數"){
data <- get_data$result.results.發生時段
count_time(data)
件數 <- list(one,two,three,four,five,six,seven,eight)
time_title <- list("01~03","04~06","07~09","10~12","13~15","16~18","19~21","22~24")
data_y <- as.data.frame(cbind(time_title, 件數))
時段 <- unlist(time_title)
}else if(y_var == "月份_件數"){
data <- get_data$result.results.發生.現.日期
count_month(data)
month_title <- list("JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC")
title <- factor(month_title, levels=unique(month_title))
件數 <- count
data_y <- as.data.frame(cbind(title, 件數))
月份 <- unlist(title)
}else{
data <- get_data$result.results.發生.現.地點
count_place(data)
area_title <- list("中正區","萬華區","大同區","中山區","松山區","大安區","信義區","內湖區","南港區","士林區","北投區","文山區")
件數 <- list(one,two,three,four,five,six,seven,eight,nine,ten,eleven,twelve)
data_y <- as.data.frame(cbind(area_title, 件數))
地區 <- unlist(area_title)
}
data <- get_data$result.results.發生.現.日期
count_month(data)
count_month <- function(data){
data <- as.numeric(data)
data_clear <- (data%%10000-data%%100)/100
count <- list()
for(i in c(1:12)){
count[i] <- sum(data_clear == i)
}
}
if(y_var == "時段_件數"){
data <- get_data$result.results.發生時段
count_time(data)
件數 <- list(one,two,three,four,five,six,seven,eight)
time_title <- list("01~03","04~06","07~09","10~12","13~15","16~18","19~21","22~24")
data_y <- as.data.frame(cbind(time_title, 件數))
時段 <- unlist(time_title)
}else if(y_var == "月份_件數"){
data <- get_data$result.results.發生.現.日期
count_month(data)
month_title <- list("JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC")
title <- factor(month_title, levels=unique(month_title))
件數 <- count
data_y <- as.data.frame(cbind(title, 件數))
月份 <- unlist(title)
}else{
data <- get_data$result.results.發生.現.地點
count_place(data)
area_title <- list("中正區","萬華區","大同區","中山區","松山區","大安區","信義區","內湖區","南港區","士林區","北投區","文山區")
件數 <- list(one,two,three,four,five,six,seven,eight,nine,ten,eleven,twelve)
data_y <- as.data.frame(cbind(area_title, 件數))
地區 <- unlist(area_title)
}
data_y
data_y
title <- factor(month_title, levels=unique(month_title))
month_title
title
data_y <- as.data.frame(cbind(title, 件數))
data_y
if(y_var == "時段_件數"){
data <- get_data$result.results.發生時段
count_time(data)
件數 <- list(one,two,three,four,five,six,seven,eight)
time_title <- list("01~03","04~06","07~09","10~12","13~15","16~18","19~21","22~24")
data_y <- as.data.frame(cbind(time_title, 件數))
時段 <- unlist(time_title)
}else if(y_var == "月份_件數"){
data <- get_data$result.results.發生.現.日期
count_month(data)
month_title <- list("JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC")
件數 <- count
data_y <- as.data.frame(cbind(month_title, 件數))
月份 <- unlist(title)
}else{
data <- get_data$result.results.發生.現.地點
count_place(data)
area_title <- list("中正區","萬華區","大同區","中山區","松山區","大安區","信義區","內湖區","南港區","士林區","北投區","文山區")
件數 <- list(one,two,three,four,five,six,seven,eight,nine,ten,eleven,twelve)
data_y <- as.data.frame(cbind(area_title, 件數))
地區 <- unlist(area_title)
}
data_y
data <- data.frame(data_x,data_y)
data
data_x
data_y
data1 <- data.frame(data_x,data_y)
data1
data1 <- as.data.frame(c(data_x,data_y))
data1
data1 <- as.data.frame(data_x,data_y)
data1
data1 <- data.frame(data_x,data_y)
data1
x_var <- "時段_件數"
y_var <- "月份_件數"
if(x_var == "時段_件數"){
data <- get_data$result.results.發生時段
count_time(data)
件數 <- list(one,two,three,four,five,six,seven,eight)
time_title <- list("01~03","04~06","07~09","10~12","13~15","16~18","19~21","22~24")
data_x <- as.data.frame(cbind(time_title, 件數))
時段 <- unlist(time_title)
}else if(x_var == "月份_件數"){
data <- get_data$result.results.發生.現.日期
count_month(data)
month_title <- list("JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC")
title <- factor(month_title, levels=unique(month_title))
件數 <- count
data_x <- as.data.frame(cbind(title, 件數))
月份 <- unlist(title)
}else{
data <- get_data$result.results.發生.現.地點
count_place(data)
area_title <- list("中正區","萬華區","大同區","中山區","松山區","大安區","信義區","內湖區","南港區","士林區","北投區","文山區")
件數 <- list(one,two,three,four,five,six,seven,eight,nine,ten,eleven,twelve)
data_x <- as.data.frame(cbind(area_title, 件數))
地區 <- unlist(area_title)
}
if(y_var == "時段_件數"){
data <- get_data$result.results.發生時段
count_time(data)
件數 <- list(one,two,three,four,five,six,seven,eight)
time_title <- list("01~03","04~06","07~09","10~12","13~15","16~18","19~21","22~24")
data_y <- as.data.frame(cbind(time_title, 件數))
時段 <- unlist(time_title)
}else if(y_var == "月份_件數"){
data <- get_data$result.results.發生.現.日期
count_month(data)
month_title <- list("JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC")
件數 <- count
data_y <- as.data.frame(cbind(month_title, 件數))
月份 <- unlist(title)
}else{
data <- get_data$result.results.發生.現.地點
count_place(data)
area_title <- list("中正區","萬華區","大同區","中山區","松山區","大安區","信義區","內湖區","南港區","士林區","北投區","文山區")
件數 <- list(one,two,three,four,five,six,seven,eight,nine,ten,eleven,twelve)
data_y <- as.data.frame(cbind(area_title, 件數))
地區 <- unlist(area_title)
}
data1 <- data.frame(data_x,data_y)
data1
x_var <- "時段_件數"
y_var <- "月份_件數"
if(x_var == "時段_件數"){
data <- get_data$result.results.發生時段
count_time(data)
件數x <- list(one,two,three,four,five,six,seven,eight)
}else if(x_var == "月份_件數"){
data <- get_data$result.results.發生.現.日期
count_month(data)
件數x <- count
}else{
data <- get_data$result.results.發生.現.地點
count_place(data)
件數x <- list(one,two,three,four,five,six,seven,eight,nine,ten,eleven,twelve)
}
if(y_var == "時段_件數"){
data <- get_data$result.results.發生時段
count_time(data)
件數y <- list(one,two,three,four,five,six,seven,eight)
}else if(y_var == "月份_件數"){
data <- get_data$result.results.發生.現.日期
count_month(data)
件數y <- count
}else{
data <- get_data$result.results.發生.現.地點
count_place(data)
件數y <- list(one,two,three,four,five,six,seven,eight,nine,ten,eleven,twelve)
}
data1 <- data.frame(件數x,件數y)
data1
x_var <- "時段_件數"
y_var <- "月份_件數"
if(x_var == "時段_件數"){
data <- get_data$result.results.發生時段
count_time(data)
件數x <- list(one,two,three,four,five,six,seven,eight)
}else if(x_var == "月份_件數"){
data <- get_data$result.results.發生.現.日期
count_month(data)
件數x <- count
}else{
data <- get_data$result.results.發生.現.地點
count_place(data)
件數x <- list(one,two,three,four,five,six,seven,eight,nine,ten,eleven,twelve)
}
if(y_var == "時段_件數"){
data <- get_data$result.results.發生時段
count_time(data)
件數y <- list(one,two,three,four,five,six,seven,eight)
}else if(y_var == "月份_件數"){
data <- get_data$result.results.發生.現.日期
count_month(data)
件數y <- count
}else{
data <- get_data$result.results.發生.現.地點
count_place(data)
件數y <- list(one,two,three,four,five,six,seven,eight,nine,ten,eleven,twelve)
}
data1 <- c(件數x,件數y)
data1
data1 <- cbind(件數x,件數y)
data1
runApp()
runApp()
x_var <- input$xcol
y_var <- input$ycol
all_data(x_var,y_var)
runApp()
runApp()
data1 <- rbind(件數x,件數y)
data1
data1 <- as.data.frame(rbind(件數x,件數y))
data1
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
data <- function(x){
from <- fromJSON("https://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=34a4a431-f04d-474a-8e72-8d3f586db3df")
data <- as.data.frame(from)
data
}
is.factor(data)
is.atomic(data)
from <- fromJSON("https://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=34a4a431-f04d-474a-8e72-8d3f586db3df")
data <- as.data.frame(as.character(from) )
data
is.atomic(data)
from <- fromJSON("https://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=34a4a431-f04d-474a-8e72-8d3f586db3df")
data <- as.data.frame.character(from)
data
is.atomic(data)
from <- fromJSON("https://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=34a4a431-f04d-474a-8e72-8d3f586db3df")
data <- as.data.frame.character(as.vector(from))
data
is.atomic(data)
from <- fromJSON("https://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=34a4a431-f04d-474a-8e72-8d3f586db3df")
data <- as.vector(as.data.frame(from))
data
is.atomic(data)
from <- fromJSON("https://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=34a4a431-f04d-474a-8e72-8d3f586db3df")
data <- as.numeric(as.data.frame(from))
data
is.atomic(data)
runApp()
runApp()
#x_var <- "時段_件數"
#y_var <- "月份_件數"
if(x_var == "時段_件數"){
data <- get_data$result.results.發生時段
count_time(data)
件數x <- list(one,two,three,four,five,six,seven,eight)
}else if(x_var == "月份_件數"){
data <- get_data$result.results.發生.現.日期
count_month(data)
件數x <- count
}else{
data <- get_data$result.results.發生.現.地點
count_place(data)
件數x <- list(one,two,three,four,five,six,seven,eight,nine,ten,eleven,twelve)
}
if(y_var == "時段_件數"){
data <- get_data$result.results.發生時段
count_time(data)
件數y <- list(one,two,three,four,five,six,seven,eight)
}else if(y_var == "月份_件數"){
data <- get_data$result.results.發生.現.日期
count_month(data)
件數y <- count
}else{
data <- get_data$result.results.發生.現.地點
count_place(data)
件數y <- list(one,two,three,four,five,six,seven,eight,nine,ten,eleven,twelve)
}
data1 <- as.data.frame(cbind(件數x,件數y))
data1
is.atomic(data1)
rle
rle(toplevel)
from <- fromJSON("https://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=34a4a431-f04d-474a-8e72-8d3f586db3df")
data <- as.data.frame(from)
as.vector(data)
is.vector(data)
from <- fromJSON("https://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=34a4a431-f04d-474a-8e72-8d3f586db3df")
data <- as.vector(as.data.frame(from))
is.vector(data)
from <- fromJSON("https://data.taipei/opendata/datalist/apiAccess?scope=resourceAquire&rid=34a4a431-f04d-474a-8e72-8d3f586db3df")
data <- as.character(from)
is.vector(data)
is.atomic(data)
data
runApp()
runApp()
